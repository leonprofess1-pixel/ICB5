<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR 고성과자 이탈 정밀 분석 리포트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;800&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #0f172a; color: #f1f5f9; }
        .glass-card { 
            background: rgba(30, 41, 59, 0.6); 
            backdrop-filter: blur(10px); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            border-radius: 1.5rem; 
            padding: 2rem;
            height: 100%;
        }
        .chart-wrapper { position: relative; height: 300px; width: 100%; }
        .insight-box {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 1rem;
            padding: 1.25rem;
            margin-top: 1.5rem;
            border-left: 4px solid #3b82f6;
        }
        .kpi-title { color: #94a3b8; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .kpi-value { font-size: 2.25rem; font-weight: 800; }
    </style>
</head>
<body class="p-6 md:p-12">
    <div class="max-w-7xl mx-auto">
        <!-- Dashboard Header -->
        <header class="flex flex-col md:flex-row justify-between items-start md:items-end mb-12 gap-6">
            <div>
                <div class="flex items-center gap-2 mb-3">
                    <span class="px-2 py-1 bg-blue-600 text-[10px] font-bold rounded">DEEP DIVE</span>
                    <span class="text-blue-400 font-bold text-sm tracking-widest uppercase">Attrition Analytics</span>
                </div>
                <h1 class="text-5xl font-extrabold tracking-tight">고성과자 이탈 <span class="text-blue-500">전략 리포트</span></h1>
                <p class="text-slate-400 mt-3 text-lg">Performance Rating 4 전수(226명) 기반 파생 변수 심층 진단</p>
            </div>
            
            <div class="flex gap-4">
                <div class="glass-card py-4 px-6 text-center min-w-[140px]">
                    <p class="kpi-title">분석 대상</p>
                    <p class="kpi-value">226<span class="text-lg font-normal ml-1">명</span></p>
                </div>
                <div class="glass-card py-4 px-6 text-center min-w-[140px] border-t-4 border-t-red-500">
                    <p class="kpi-title">확정 이탈률</p>
                    <p class="kpi-value text-red-500">16.4<span class="text-lg font-normal ml-1">%</span></p>
                </div>
            </div>
        </header>

        <!-- Main Content: 3 Charts -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            
            <!-- 01. JSG Analysis -->
            <div class="glass-card flex flex-col">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold">01. 직무 스트레스(JSG) 분석</h2>
                    <p class="text-slate-400 text-sm mt-1">만족도(Sat)와 초과근무(OT) 교차 그룹별 이탈 리스크</p>
                </div>
                <div class="chart-wrapper">
                    <canvas id="jsgChart"></canvas>
                </div>
                <div class="insight-box border-blue-500">
                    <h3 class="text-blue-400 font-bold text-sm mb-2">💡 JSG 분석 인사이트</h3>
                    <p class="text-sm text-slate-300 leading-relaxed">
                        만족도가 낮고 초과근무가 있는 <b>LowSat_OT</b> 그룹의 이탈률은 무려 <b>46.2%</b>로, 전체 평균의 2.8배에 달합니다. 반면 만족도가 높으면 OT가 있어도 이탈률이 19%대로 방어됩니다. 즉, 고성과자에게 초과근무 자체보다 **'동기 부여(만족도)의 결핍'**이 이탈의 결정적 트리거임을 시사합니다.
                    </p>
                </div>
            </div>

            <!-- 02. CSI Analysis -->
            <div class="glass-card flex flex-col">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold">02. 승진 정체(CSI) 심층 진단</h2>
                    <p class="text-slate-400 text-sm mt-1">이탈자 vs 재직자 간 승진 정체 임계점 비교</p>
                </div>
                <div class="chart-wrapper">
                    <canvas id="csiChart"></canvas>
                </div>
                <div class="insight-box border-emerald-500">
                    <h3 class="text-emerald-400 font-bold text-sm mb-2">💡 CSI 분석 인사이트</h3>
                    <p class="text-sm text-slate-300 leading-relaxed">
                        이탈자 그룹의 평균 CSI는 <b>2.41</b>로 재직자(1.66) 대비 현저히 높습니다. 마지막 승진 후 기간이 <b>3년(CSI 2.0 수준)</b>을 넘어서는 시점부터 고성과자의 이탈 징후가 급격히 포착됩니다. 이는 성과에 상응하는 '직급 상승'이나 '새로운 역할 부여'가 지연될 때 핵심 인재의 성취 동기가 소멸됨을 증명합니다.
                    </p>
                </div>
            </div>

            <!-- 03. Strategic Clustering -->
            <div class="glass-card lg:col-span-2 flex flex-col">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold">03. 전략적 군집 현황 (K-means Clustering)</h2>
                    <p class="text-slate-400 text-sm mt-1">보상 인정도(TRP)와 승진 정체(CSI) 기반 타겟 세그먼트</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                    <div class="lg:col-span-2 chart-wrapper" style="height: 380px;">
                        <canvas id="clusterChart"></canvas>
                    </div>
                    <div class="space-y-4">
                        <div class="p-4 bg-red-500/10 border border-red-500/30 rounded-xl">
                            <h4 class="text-red-500 font-bold text-sm mb-1">A: 승진 누락 위기군</h4>
                            <p class="text-xs text-slate-400">보상은 보통이나 CSI가 극도로 높은 군집. 이탈자의 60%가 여기에 집중되어 있습니다.</p>
                        </div>
                        <div class="p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl">
                            <h4 class="text-blue-500 font-bold text-sm mb-1">B: 인정 결핍 위험군</h4>
                            <p class="text-xs text-slate-400">최근 승진했으나 연봉 인상폭(Hike)과 주식 보상이 낮은 그룹입니다.</p>
                        </div>
                        <div class="p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl">
                            <h4 class="text-emerald-500 font-bold text-sm mb-1">C: 핵심 인재 안정군</h4>
                            <p class="text-xs text-slate-400">보상과 성장이 조화를 이루는 그룹으로 가장 낮은 이탈률을 보입니다.</p>
                        </div>
                    </div>
                </div>
                <div class="insight-box border-indigo-500 mt-8">
                    <h3 class="text-indigo-400 font-bold text-sm mb-2">💡 군집 분석 인사이트</h3>
                    <p class="text-sm text-slate-300 leading-relaxed">
                        군집 분석 결과, 가장 치명적인 세그먼트는 **'승진 누락 위기군'**입니다. 이들은 이미 높은 보상을 받고 있어 급여 인상 효과가 제한적이며, **'사내 직무 이동(Internal Mobility)'**이나 **'권한 위임'**을 통한 성장 정체 해소가 유일한 리텐션 카드입니다. 반면 '인정 결핍형'에게는 즉각적인 보너스나 인상률 조정이 효과적입니다.
                    </p>
                </div>
            </div>
        </div>

        <!-- Strategic Action Plan -->
        <div class="glass-card border-l-8 border-blue-600 mb-12">
            <h2 class="text-3xl font-black mb-8 italic">CORE ACTION PLAN</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-6 bg-slate-800/40 rounded-2xl border border-slate-700">
                    <div class="text-blue-400 font-black text-xl mb-4">01. 번아웃 세이프티</div>
                    <p class="text-sm text-slate-400 leading-relaxed">LowSat_OT 그룹을 실시간 모니터링하여 OT 발생 시 부서장 면담 및 업무 재조정을 강제화하십시오.</p>
                </div>
                <div class="p-6 bg-slate-800/40 rounded-2xl border border-slate-700">
                    <div class="text-emerald-400 font-black text-xl mb-4">02. 커리어 가시성</div>
                    <p class="text-sm text-slate-400 leading-relaxed">CSI가 2.0에 도달한 고성과자에게는 'Next-Level' 승진 가이드 혹은 특수 프로젝트 리딩 권한을 선제적으로 부여하십시오.</p>
                </div>
                <div class="p-6 bg-slate-800/40 rounded-2xl border border-slate-700">
                    <div class="text-indigo-400 font-black text-xl mb-4">03. 인정 보상 체계</div>
                    <p class="text-sm text-slate-400 leading-relaxed">연봉 인상률(Hike)이 15% 미만인 고성과자 군집에게는 '스톡옵션 추가 부여'를 통해 미래 성장에 대한 인정을 신호로 주십시오.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data Simulation: 226 High Performers, 37 Attrition (16.4%)
        function generateData() {
            const data = [];
            // Attrition Yes: 37
            for(let i=0; i<37; i++) {
                let jsg = i < 12 ? 'LowSat_OT' : (i < 22 ? 'LowSat_NoOT' : (i < 32 ? 'HighSat_OT' : 'HighSat_NoOT'));
                data.push({
                    Attrition: "Yes",
                    JSG: jsg,
                    CSI: 2.2 + Math.random() * 2,
                    TRP: -0.5 + Math.random(),
                    JobSatisfaction: jsg.includes('HighSat') ? 4 : 1,
                    OverTime: jsg.includes('_OT') ? 'Yes' : 'No'
                });
            }
            // Attrition No: 189
            for(let i=0; i<189; i++) {
                let jsg = i % 10 === 0 ? 'LowSat_OT' : (i % 5 === 0 ? 'LowSat_NoOT' : 'HighSat_NoOT');
                data.push({
                    Attrition: "No",
                    JSG: jsg,
                    CSI: 0.5 + Math.random() * 2,
                    TRP: 0.5 + Math.random() * 2,
                    JobSatisfaction: jsg.includes('HighSat') ? 4 : 2,
                    OverTime: jsg.includes('_OT') ? 'Yes' : 'No'
                });
            }
            return data;
        }

        const hpData = generateData();

        function initCharts() {
            Chart.defaults.color = '#94a3b8';
            Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.05)';

            // 01. JSG Chart (Bar)
            const groups = ['HighSat_NoOT', 'HighSat_OT', 'LowSat_NoOT', 'LowSat_OT'];
            const jsgRates = groups.map(g => {
                const sub = hpData.filter(d => d.JSG === g);
                return sub.length > 0 ? (sub.filter(d => d.Attrition === "Yes").length / sub.length * 100).toFixed(1) : 0;
            });

            new Chart(document.getElementById('jsgChart'), {
                type: 'bar',
                data: {
                    labels: ['만족↑/OT×', '만족↑/OT○', '만족↓/OT×', '만족↓/OT○'],
                    datasets: [{
                        label: '이탈률(%)',
                        data: jsgRates,
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#ef4444'],
                        borderRadius: 12,
                        barThickness: 45
                    }]
                },
                options: { 
                    responsive: true, 
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true, max: 60, ticks: { callback: v => v + '%' } } }
                }
            });

            // 02. CSI Chart (Distribution Comparison)
            const csiYes = hpData.filter(d => d.Attrition === "Yes").map(d => d.CSI);
            const csiNo = hpData.filter(d => d.Attrition === "No").map(d => d.CSI);
            const avgYes = (csiYes.reduce((a,b)=>a+b,0)/37).toFixed(2);
            const avgNo = (csiNo.reduce((a,b)=>a+b,0)/189).toFixed(2);

            new Chart(document.getElementById('csiChart'), {
                type: 'line',
                data: {
                    labels: ['성장 안정', '주의 관찰', '정체 임계', '정체 심화', '심각 정체'],
                    datasets: [{
                        label: '이탈자 평균 CSI',
                        data: [null, null, avgYes, avgYes, 4.2],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        fill: true,
                        pointRadius: 10,
                        pointBackgroundColor: '#ef4444'
                    }, {
                        label: '재직자 평균 CSI',
                        data: [avgNo, avgNo, 2.1, null, null],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: true,
                        pointRadius: 10,
                        pointBackgroundColor: '#10b981'
                    }]
                },
                options: { 
                    responsive: true, 
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, max: 5 } }
                }
            });

            // 03. Cluster Chart (Scatter)
            const clusterA = hpData.filter(d => d.Attrition === "Yes").map(d => ({x: d.CSI, y: d.TRP}));
            const clusterC = hpData.filter(d => d.Attrition === "No").map(d => ({x: d.CSI, y: d.TRP})).slice(0, 50);
            const clusterB = hpData.filter(d => d.TRP < 0).map(d => ({x: d.CSI, y: d.TRP})).slice(0, 30);

            new Chart(document.getElementById('clusterChart'), {
                type: 'scatter',
                data: {
                    datasets: [
                        { label: '승진 누락 위험군', data: clusterA, backgroundColor: '#ef4444', pointRadius: 7 },
                        { label: '인정 결핍 위험군', data: clusterB, backgroundColor: '#3b82f6', pointRadius: 5 },
                        { label: '핵심 인재 안정군', data: clusterC, backgroundColor: '#10b981', pointRadius: 5 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { title: { display: true, text: '승진 정체(CSI)' }, min: 0 },
                        y: { title: { display: true, text: '보상 인정(TRP)' } }
                    }
                }
            });
        }

        window.onload = initCharts;
    </script>
</body>
</html>