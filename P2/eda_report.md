# P2 데이터셋 EDA 심층 분석 보고서

## 1. 데이터 개요 및 전처리

### 데이터 로드 및 기본 정보

'price112.csv' 데이터셋은 581개의 행과 18개의 열로 구성되어 있습니다. `통계표`, `계정항목`, `단위`, `변환` 컬럼은 범주형 데이터를, `가중치` 컬럼과 `2024/12`부터 `2025/12`까지의 월별 데이터 컬럼은 숫자형 데이터를 포함하고 있습니다. 모든 컬럼에서 결측치는 발견되지 않았습니다.

### Long Format 변환

시계열 분석을 용이하게 하기 위해, 월별 컬럼들을 `월`과 `물가지수` 컬럼으로 `melt`하여 long format으로 변환했습니다. 이 과정에서 `월` 컬럼은 `datetime` 객체로 변환되었습니다.

## 2. 시계열 분석

### 전체 소비자물가지수 (`총지수`) 월별 추이

전체 소비자물가지수의 월별 추이를 시각화했습니다. `총지수`는 2024년 12월부터 2025년 12월까지 전반적으로 완만한 상승세를 보였습니다.

![전체 소비자물가지수 월별 추이](./images/1_total_cpi_monthly_trend.png)

### 주요 계정항목별 물가지수 월별 추이

가중치가 높은 상위 10개 계정항목의 물가지수 월별 추이를 분석했습니다. 각 항목별로 물가지수의 변동성이 다르게 나타나며, 일부 항목은 전체 `총지수`와 다른 추세를 보이기도 합니다.

![주요 계정항목별 물가지수 월별 추이 (상위 10개 항목)](./images/2_top_10_items_monthly_trend.png)

### 전월 대비 물가상승률

전체 소비자물가지수(`총지수`) 및 가중치가 높은 상위 5개 계정항목의 전월 대비 물가상승률을 계산하고 시각화했습니다.
`총지수`의 물가상승률은 월별로 변동을 보였으며, 특정 월에는 하락세를 나타내기도 했습니다.

![전체 소비자물가지수 전월 대비 물가상승률](./images/3_total_cpi_inflation_rate.png)

주요 계정항목별 물가상승률은 항목마다 큰 편차를 보였으며, 이는 특정 품목이 전체 물가 변동에 더 큰 영향을 미칠 수 있음을 시사합니다.

![주요 계정항목별 전월 대비 물가상승률 (상위 5개 항목)](./images/4_top_5_items_inflation_rate.png)

## 3. 항목별 분석

### 계정항목별 평균 물가지수 및 변동성

`총지수`를 제외한 각 `계정항목`의 전체 기간 동안의 평균 물가지수와 표준편차(변동성)를 분석했습니다.

평균 물가지수가 높은 상위 10개 항목은 다음과 같습니다. 이들은 전반적으로 물가 수준이 높은 품목들입니다.

![계정항목별 평균 물가지수 (상위 10개)](./images/5_avg_price_index_by_item.png)

물가지수 변동성(표준편차)이 높은 상위 10개 항목은 다음과 같습니다. 이들은 가격 변화가 심한 품목들로, 시장 상황에 민감하게 반응할 수 있습니다.

![계정항목별 물가지수 변동성 (표준편차 상위 10개)](./images/6_std_price_index_by_item.png)

### 가중치가 높은 상위 계정항목

`가중치`는 전체 소비자물가지수 산정에서 각 항목이 차지하는 중요도를 나타냅니다. `가중치` 분포는 특정 항목들이 전체 지수에 큰 영향을 미치고 있음을 보여줍니다.

![계정항목별 가중치 분포](./images/7_weight_distribution.png)

가중치가 높은 상위 10개 `계정항목`은 다음과 같습니다. 이 항목들은 소비자들의 지출에서 큰 비중을 차지하며, 이들의 물가 변동은 전체 CPI에 큰 영향을 미칠 수 있습니다.

![가중치가 높은 상위 10개 계정항목](./images/8_top_10_weighted_items.png)

## 결론 및 시사점

본 EDA를 통해 소비자물가지수 데이터의 전반적인 추세, 주요 품목별 물가 동향, 그리고 물가 변동성에 기여하는 요인들을 파악할 수 있었습니다. 특히 `총지수`의 안정적인 상승세 속에서 특정 `계정항목`들이 높은 변동성과 상승률을 보이며 전체 물가에 영향을 미치는 것을 확인했습니다.

향후 분석에서는 이러한 주요 항목들에 대한 심층적인 원인 분석과 더불어, 물가 변동의 예측 모델을 구축하여 정책 수립에 기여할 수 있을 것입니다.

## 4. 군집 분석

### 군집 분석을 위한 데이터 준비

각 `계정항목`의 `평균 물가지수`, `물가지수 표준편차`, `평균 물가상승률`을 추출하여 군집 분석을 위한 특성으로 사용했습니다. 이 특성들은 `StandardScaler`를 이용하여 스케일링하여, 각 특성의 스케일 차이가 군집화 결과에 미치는 영향을 최소화했습니다.

### 최적 군집 수 (K) 결정

엘보우(Elbow) 메소드를 사용하여 최적의 군집 수 `K`를 결정했습니다. WCSS(Within-Cluster Sum of Squares)가 급격히 줄어드는 지점을 `K`의 최적 값으로 판단하며, 시각화된 엘보우 플롯을 통해 `K=4`가 적절하다고 가정했습니다. (실제 결정은 엘보우 플롯을 보고 수동으로 판단)

![엘보우 메소드를 이용한 최적 K 결정](./images/9_elbow_method.png)

### K-Means 군집 분석 결과

선택된 최적의 `K=4`를 사용하여 K-Means 군집 분석을 수행했습니다. 군집별 특징은 다음과 같습니다:

|    | mean_물가지수   | std_물가지수   | mean_물가상승률   | count   |
|:---|:------------|:-----------|:-------------|:--------|
| 0  | 110.205     | 1.6378     | 0.148584     | 361     |
| 1  | 139.733     | 25.5149    | 1.96552      | 19      |
| 2  | 113.536     | 19.0779    | -1.77293     | 11      |
| 3  | 133.064     | 2.99333    | 0.341796     | 189     |

- **군집 0:** 가장 많은 항목을 포함하며, 평균 물가지수와 표준편차, 물가상승률 모두 낮은 수준으로 안정적인 품목군을 나타냅니다.
- **군집 1:** 평균 물가지수가 가장 높고 표준편차와 물가상승률도 매우 높은 품목군입니다. 이는 가격 변동성이 크고 지속적으로 높은 상승률을 보이는 품목들을 의미합니다.
- **군집 2:** 평균 물가지수는 보통 수준이지만 표준편차가 높고 물가상승률이 마이너스인 품목군입니다. 이는 가격 변동성이 크지만 전반적으로 하락 추세를 보이는 품목들을 나타낼 수 있습니다.
- **군집 3:** 평균 물가지수가 높고 표준편차는 낮으며, 물가상승률은 낮은 양의 값을 가지는 품목군입니다. 이는 높은 물가 수준을 유지하지만 비교적 안정적인 변동성을 보이는 품목들을 나타냅니다.

### 군집 시각화

평균 물가지수와 물가지수 표준편차를 기준으로 군집화된 결과를 산점도로 시각화했습니다. 각 색상은 다른 군집을 나타냅니다.

![군집 분석 결과: 평균 물가지수 vs 물가지수 표준편차](./images/10_cluster_scatter.png)

### 시사점

군집 분석을 통해 `계정항목`들이 물가지수 특성(`평균`, `변동성`, `상승률`)에 따라 자연스럽게 여러 그룹으로 나뉘는 것을 확인했습니다. 특히, 물가지수가 높고 변동성이 큰 `군집 1`과 같이 특정 군집은 특별한 모니터링 및 분석이 필요할 수 있습니다. 이러한 군집화 결과는 정책 결정자나 기업이 특정 품목군에 대한 맞춤형 전략을 수립하는 데 유용하게 활용될 수 있습니다.

