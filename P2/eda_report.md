# P2 데이터셋 EDA 심층 분석 보고서

## 분석 가설

"식료품 및 비주류음료와 같이 가중치가 높은 필수 소비재는 물가지수 변동성이 낮고, 물가상승률이 안정적일 것이다. 반면, 특정 고변동성 품목군(예: 일부 농산물)은 계절적 요인 등으로 인해 물가지수 변동성과 물가상승률이 높을 것이다."

---

## 1. 데이터 개요 및 전처리

### 데이터 로드 및 기본 정보

'price112.csv' 데이터셋은 581개의 행과 18개의 열로 구성되어 있습니다. `통계표`, `계정항목`, `단위`, `변환` 컬럼은 범주형 데이터를, `가중치` 컬럼과 `2024/12`부터 `2025/12`까지의 월별 데이터 컬럼은 숫자형 데이터를 포함하고 있습니다. 모든 컬럼에서 결측치는 발견되지 않았습니다.

### Long Format 변환

시계열 분석을 용이하게 하기 위해, 월별 컬럼들을 `월`과 `물가지수` 컬럼으로 `melt`하여 long format으로 변환했습니다. 이 과정에서 `월` 컬럼은 `datetime` 객체로 변환되었습니다.

## 2. 시계열 분석

### 전체 소비자물가지수 (`총지수`) 월별 추이

전체 소비자물가지수의 월별 추이를 시각화했습니다. `총지수`는 2024년 12월부터 2025년 12월까지 전반적으로 완만한 상승세를 보였습니다.

![전체 소비자물가지수 월별 추이](./images/1_total_cpi_monthly_trend.png)

### 주요 계정항목별 물가지수 월별 추이

가중치가 높은 상위 10개 계정항목의 물가지수 월별 추이를 분석했습니다. 각 항목별로 물가지수의 변동성이 다르게 나타나며, 일부 항목은 전체 `총지수`와 다른 추세를 보이기도 합니다.

![주요 계정항목별 물가지수 월별 추이 (상위 10개 항목)](./images/2_top_10_items_monthly_trend.png)

### 전월 대비 물가상승률

전체 소비자물가지수(`총지수`) 및 가중치가 높은 상위 5개 계정항목의 전월 대비 물가상승률을 계산하고 시각화했습니다.
`총지수`의 물가상승률은 월별로 변동을 보였으며, 특정 월에는 하락세를 나타내기도 했습니다.

![전체 소비자물가지수 전월 대비 물가상승률](./images/3_total_cpi_inflation_rate.png)

주요 계정항목별 물가상승률은 항목마다 큰 편차를 보였으며, 이는 특정 품목이 전체 물가 변동에 더 큰 영향을 미칠 수 있음을 시사합니다.

![주요 계정항목별 전월 대비 물가상승률 (상위 5개 항목)](./images/4_top_5_items_inflation_rate.png)

## 3. 항목별 분석

### 계정항목별 평균 물가지수 및 변동성

`총지수`를 제외한 각 `계정항목`의 전체 기간 동안의 평균 물가지수와 표준편차(변동성)를 분석했습니다.

평균 물가지수가 높은 상위 10개 항목은 다음과 같습니다. 이들은 전반적으로 물가 수준이 높은 품목들입니다.

![계정항목별 평균 물가지수 (상위 10개)](./images/5_avg_price_index_by_item.png)

물가지수 변동성(표준편차)이 높은 상위 10개 항목은 다음과 같습니다. 이들은 가격 변화가 심한 품목들로, 시장 상황에 민감하게 반응할 수 있습니다.

![계정항목별 물가지수 변동성 (표준편차 상위 10개)](./images/6_std_price_index_by_item.png)

### 가중치와 물가 변동성 분석

`가중치`는 전체 소비자물가지수 산정에서 각 항목이 차지하는 중요도를 나타냅니다. `가중치` 분포는 특정 항목들이 전체 지수에 큰 영향을 미치고 있음을 보여줍니다.

![계정항목별 가중치 분포](./images/7_weight_distribution.png)

가중치가 높은 상위 10개 `계정항목`은 다음과 같습니다. 이 항목들은 소비자들의 지출에서 큰 비중을 차지하며, 이들의 물가 변동은 전체 CPI에 큰 영향을 미칠 수 있습니다.

![가중치가 높은 상위 10개 계정항목](./images/8_top_10_weighted_items.png)

**가중치와 물가지수 변동성 관계 분석**

가설 검증의 일환으로, `가중치`와 `물가지수 표준편차` 간의 관계를 시각화했습니다. 일반적으로 가중치가 높은 품목은 시장 안정성 등의 이유로 변동성이 낮을 것이라는 가설이 있습니다.

![계정항목별 평균 가중치와 물가지수 변동성(표준편차) 관계](./images/9_weight_vs_std_price_index.png)

위 산점도에서 볼 수 있듯이, 대부분의 항목은 낮은 가중치와 낮은 변동성을 보이지만, 일부 항목은 낮은 가중치에도 불구하고 높은 변동성을 나타내며, 매우 높은 가중치를 가진 소수의 항목들은 비교적 낮은 변동성을 유지하는 경향을 보입니다. 이는 가중치가 높은 품목이 반드시 낮은 변동성을 가지는 것은 아니지만, 전체적으로는 가중치가 낮은 품목에서 더 넓은 범위의 변동성이 관찰될 수 있음을 시사합니다.

## 결론 및 시사점

본 EDA를 통해 소비자물가지수 데이터의 전반적인 추세, 주요 품목별 물가 동향, 그리고 물가 변동성에 기여하는 요인들을 파악할 수 있었습니다. 특히 `총지수`의 안정적인 상승세 속에서 특정 `계정항목`들이 높은 변동성과 상승률을 보이며 전체 물가에 영향을 미치는 것을 확인했습니다.

향후 분석에서는 이러한 주요 항목들에 대한 심층적인 원인 분석과 더불어, 물가 변동의 예측 모델을 구축하여 정책 수립에 기여할 수 있을 것입니다.

## 4. 군집 분석

### 군집 분석을 위한 데이터 준비

각 `계정항목`의 `평균 물가지수`, `물가지수 표준편차`, `평균 물가상승률`, `평균 가중치`를 추출하여 군집 분석을 위한 특성으로 사용했습니다. 이 특성들은 `StandardScaler`를 이용하여 스케일링하여, 각 특성의 스케일 차이가 군집화 결과에 미치는 영향을 최소화했습니다.

### 최적 군집 수 (K) 결정

엘보우(Elbow) 메소드를 사용하여 최적의 군집 수 `K`를 결정했습니다. WCSS(Within-Cluster Sum of Squares)가 급격히 줄어드는 지점을 `K`의 최적 값으로 판단하며, 시각화된 엘보우 플롯을 통해 `K=4`가 적절하다고 가정했습니다. (실제 결정은 엘보우 플롯을 보고 수동으로 판단)

![엘보우 메소드를 이용한 최적 K 결정](./images/11_elbow_method.png)

### K-Means 군집 분석 결과

선택된 최적의 `K=4`를 사용하여 K-Means 군집 분석을 수행했습니다. 군집별 특징은 다음과 같습니다:

|    | mean_물가지수   | std_물가지수   | mean_물가상승률   | 평균_가중치   | count   |
|:---|:------------|:-----------|:-------------|:---------|:--------|
| 0  | 109.368     | 1.80994    | 0.0962639    | 4.90058  | 341     |
| 1  | 132.698     | 3.27388    | 0.313196     | 3.92289  | 203     |
| 2  | 137.638     | 25.4235    | 1.69936      | 0.686364 | 22      |
| 3  | 115.953     | 0.960293   | 0.19458      | 108.25   | 14      |

각 군집의 특성을 바탕으로 가설과의 연관성을 분석하고, 각 군집에 대한 심층적인 설명을 제공합니다.

-   **군집 0 (341개 항목): '안정적 저물가/저변동 품목군'**
    -   **특징:** 이 군집은 가장 많은 항목을 포함하며, **낮은 평균 물가지수(109.4), 매우 낮은 물가 변동성(표준편차 1.8), 낮은 물가상승률(0.096%)**을 보입니다. 평균 가중치도 낮은 편(4.9)이지만, 이는 많은 소규모 가중치 항목들이 모여 있다는 의미입니다. 주로 공산품, 일부 서비스 등 일상생활에 필수적이지만 가격 경쟁이 치열하거나 기술 발전으로 가격이 안정화된 품목들이 포함됩니다.
    -   **가설과의 연관성:** 가중치와 물가 변동성의 관계에서 "낮은 가중치에도 불구하고 높은 변동성을 나타내는" 일부 품목을 제외하면, 이 군집은 낮은 변동성을 보이는 다수 항목을 대표합니다. 가설의 '물가지수 변동성이 낮고 물가상승률이 안정적일 것'이라는 부분과 일치하는 항목군입니다.

-   **군집 1 (203개 항목): '고물가/저변동 성장 품목군'**
    -   **특징:** 이 군집은 두 번째로 많은 항목을 가지며, **높은 평균 물가지수(132.7), 낮은 물가 변동성(표준편차 3.3), 중간 수준의 물가상승률(0.31%)**을 나타냅니다. 평균 가중치는 군집 0과 유사하게 낮은 편(3.9)입니다. 이는 이미 높은 물가 수준에 도달했으나 비교적 안정적으로 완만한 상승세를 유지하는 품목군으로 해석됩니다. 가공식품, 일부 내구재, 고정적 소비가 발생하는 서비스 등이 해당될 수 있습니다.
    -   **가설과의 연관성:** 가설에서 '안정적일 것'으로 예측한 품목 중 물가 수준이 이미 높아진 형태를 보입니다. 가중치는 낮지만 변동성도 낮아, 물가 수준 자체는 높지만 시장 구조상 안정화된 품목들이 다수 포함된 것으로 보입니다.

-   **군집 2 (22개 항목): '고변동 고성장 민감 품목군'**
    -   **특징:** 소수의 항목으로 구성되지만, **가장 높은 평균 물가지수(137.6)와 압도적으로 높은 물가 변동성(표준편차 25.4), 그리고 가장 높은 물가상승률(1.7%)**을 보입니다. 평균 가중치는 매우 낮은 편(0.69)입니다. 이는 가설에서 언급된 '특정 고변동성 품목군(예: 일부 농산물)'에 정확히 부합하는 특성을 보여줍니다. 계절적 요인, 공급망 불안정, 기후 변화 등에 매우 민감하게 반응하는 품목들(신선식품, 농축수산물)이 여기에 속합니다.
    -   **가설과의 연관성:** 가설의 '물가지수 변동성과 물가상승률이 높을 것'이라는 부분을 명확하게 지지하는 군집입니다. 낮은 가중치에도 불구하고 시장 전반의 물가 불안정성을 주도할 수 있는 중요한 품목군입니다.

-   **군집 3 (14개 항목): '고가중치/안정적 핵심 품목군'**
    -   **특징:** 가장 적은 수의 항목을 포함하지만, **가장 높은 평균 가중치(108.25)와 낮은 물가 변동성(표준편차 0.96), 중간 수준의 물가상승률(0.19%)**을 보입니다. 평균 물가지수는 보통 수준(116.0)입니다. 이는 가설에서 예측한 "가중치가 높은 필수 소비재는 물가지수 변동성이 낮고, 물가상승률이 안정적일 것"이라는 부분에 가장 명확하게 부합합니다. 주택, 교통, 교육, 보건, 식료품 등과 같이 소비자 지출에서 큰 비중을 차지하는 핵심 품목들이 여기에 속하며, 이들의 안정적인 가격 유지는 전체 물가 안정에 중요한 영향을 미칩니다.
    -   **가설과의 연관성:** 가설을 강력하게 지지하는 군집으로, 이들 품목의 안정적인 관리가 전체 CPI 안정에 핵심적임을 시사합니다.

### 군집 시각화

평균 물가지수와 물가지수 표준편차를 기준으로 군집화된 결과를 산점도로 시각화했습니다. 각 색상은 다른 군집을 나타냅니다.

![군집 분석 결과: 평균 물가지수 vs 물가지수 표준편차](./images/10_cluster_scatter.png)

### 시사점 및 가설 검증

본 군집 분석을 통해 설정된 가설이 일정 부분 타당함을 확인할 수 있었습니다.

-   **가설 지지:** 가설의 '식료품 및 비주류음료와 같이 가중치가 높은 필수 소비재는 물가지수 변동성이 낮고, 물가상승률이 안정적일 것'이라는 부분은 **군집 3**의 특성(고가중치, 낮은 변동성, 안정적 상승률)을 통해 강력히 지지됩니다. 또한 '특정 고변동성 품목군(예: 일부 농산물)은 계절적 요인 등으로 인해 물가지수 변동성과 물가상승률이 높을 것'이라는 부분은 **군집 2**의 특성(매우 높은 변동성과 상승률, 낮은 가중치)을 통해 명확히 검증됩니다.
-   **추가 발견:** **군집 0**과 **군집 1**은 낮은 가중치를 가지면서도 물가 변동성이나 상승률에서 차이를 보이며, 시장의 다양한 구조적 특성을 반영합니다. 특히 군집 1은 이미 높은 물가 수준을 유지하면서도 안정적인 상승세를 보이는 품목들로, 시장 성숙도를 보여줄 수 있습니다.

이러한 군집화 결과는 정책 결정자나 기업이 물가 관리를 위한 맞춤형 전략을 수립하는 데 매우 유용하게 활용될 수 있습니다. 예를 들어, 군집 2에 속하는 품목들에 대해서는 공급망 안정화, 수급 예측 강화 등의 정책적 노력이 집중되어야 할 것입니다. 반면, 군집 3과 같은 핵심 품목들은 전반적인 물가 안정화를 위한 기조 관리의 대상이 됩니다.

